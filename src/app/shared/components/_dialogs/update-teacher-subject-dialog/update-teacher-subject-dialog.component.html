<p-dialog
  [(visible)]="visible"
  modal="true"
  closable="false"
  [style]="{ width: '30rem' }"
  (onHide)="closeDialog()"
  contentStyleClass="dialog-content"
>
  <div class="dialog-header">
    <div class="dialog-header-title">
      <i class="pi pi-pencil text-primary"></i>
      <span>Edit Details</span>
    </div>
    <p class="dialog-subtitle">
      Update info below. All changes are saved after clicking “Update”.
    </p>
  </div>

  <form [formGroup]="form" class="edit-dialog-form">
    <div *ngFor="let field of fields" class="flex items-center gap-4 mb-4">
      <label class="font-semibold w-24">{{ field.label }}:</label>
      <input
        pInputText
        class="flex-auto"
        [type]="field.type || 'text'"
        [formControl]="getFormControl(field.controlName)"
      />
    </div>

    <div class="flex justify-between items-center mt-4">
      <p-button
        icon="pi pi-trash"
        severity="danger"
        (click)="onDelete()"
      ></p-button>
      <div class="flex gap-2">
        <p-button
          label="Cancel"
          severity="secondary"
          (click)="closeDialog()"
        ></p-button>
        <p-button
          label="Update"
          severity="info"
          [disabled]="form.invalid"
          (click)="onSubmit()"
        ></p-button>
      </div>
    </div>
  </form>
</p-dialog>
